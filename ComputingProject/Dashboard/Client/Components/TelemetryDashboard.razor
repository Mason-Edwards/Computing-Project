@using Microsoft.Fast.Components.FluentUI
@using Dashboard.Shared.Models
@using System.Text.Json;

@inject HttpClient Http
@inject IJSRuntime JSRuntime

<fluent-card class="telemetry-chart">
    <canvas id="TelemetryChart"></canvas>
</fluent-card>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        // Have to invoke the javascript function after the component has been rendered,
        // otherwise the function is called before the DOM element is ready.
        await JSRuntime.InvokeAsync<string>("DisplayChart");
    }
}

